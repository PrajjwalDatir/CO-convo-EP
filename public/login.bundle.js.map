{"version":3,"sources":["webpack:///./tailwind.config.js","webpack:///./client/components/input/index.jsx","webpack:///./client/components/fancy-link/index.jsx","webpack:///./client/components/card/index.jsx","webpack:///./client/components/form/UserCardForm.jsx","webpack:///./client/components/form/UserCardFormField.jsx","webpack:///./client/icons/StudentGraphic.svg","webpack:///./client/assets/images/undraw_enter.svg","webpack:///./client/routes/login/index.jsx","webpack:///./client/hooks/useEffectOnce.js","webpack:///./client/components/button/index.jsx","webpack:///./utils.js"],"names":["module","exports","variants","textColor","backgroundColor","theme","extend","fontFamily","display","screens","sm","min","max","md","lg","xl","height","classes","join","Input","React","forwardRef","className","rest","ref","propTypes","PropTypes","string","defaultProps","FancyLink","to","children","node","Card","UserCardForm","header","alt","image","buttonText","underButton","onSubmit","tabIndex","style","width","type","overrideColors","src","isRequired","func","UserCardFormField","label","name","register","errors","useFormContext","htmlFor","id","message","aira-invalid","aira-describedby","oneOfType","shape","current","any","Login","form","useForm","history","useHistory","user","setUser","useContext","UserContext","useEffectOnce","replace","useCallback","formData","axios","post","then","response","data","token","push","catch","handleRequestValidationError","StudentGraphic","handleSubmit","required","fn","useEffect","Button","variant","classVariants","oneOf","undefined","bool","validationResult","require","R","resolveConfig","tailwindConfig","hasProps","curry","props","obj","compose","all","identity","values","pickAll","error","paramErrors","forEachObjIndexed","value","key","setError","msg","inspect","x","console","log","handleValidation","req","res","next","isEmpty","status","json","mapped"],"mappings":"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","file":"login.bundle.js","sourcesContent":["module.exports = {\n  // example from: https://tailwindcss.com/docs/configuring-variants/\n  variants: {\n    textColor: [\"responsive\", \"hover\", \"focus\", \"group-hover\"],\n    backgroundColor: [\"responsive\", \"hover\", \"focus\", \"group-hover\"],\n  },\n  theme: {\n    extend: {\n      fontFamily: {\n        display: [\"Raleway\", \"sans-serif\"],\n      },\n      screens: {\n        sm: { min: \"640px\", max: \"767px\" },\n        md: { min: \"768px\", max: \"1023px\" },\n        lg: { min: \"1024px\", max: \"1279px\" },\n        xl: { min: \"1280px\", max: \"1535px\" },\n      },\n      height: (theme) => ({\n        \"screen/2\": \"50vh\",\n        \"screen/4\": \"25vh\",\n        \"screen-80\": \"80vh\",\n        \"screen-85\": \"85vh\",\n      }),\n    },\n  },\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst classes = [\n  'rounded-lg',\n  'bg-gray-200',\n  'px-3',\n  'py-2',\n  'border',\n  'border-solid',\n  'border-transparent',\n  'outline-none',\n].join(' ');\nconst focused = 'focus:bg-white focus:border-gray-400';\nconst hovered = 'hover:border-gray-400';\n\nconst Input = React.forwardRef(({ className, ...rest }, ref) => (\n  <input\n    className={`${classes} ${hovered} ${focused} ${className}`}\n    ref={ref}\n    {...rest}\n  />\n));\n\nInput.propTypes = {\n  className: PropTypes.string,\n};\n\nInput.defaultProps = {\n  className: '',\n};\n\nexport default Input;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link as RouterLink } from 'react-router-dom';\n\nconst linkTextClasses =\n  'relative text-blue-800 group-hover:text-blue-900 z-50';\n\nfunction FancyLink({ to, className, children }) {\n  return (\n    <RouterLink className=\"group relative\" to={to}>\n      <span className={`${linkTextClasses} ${className}`}>{children}</span>\n      <div className=\"absolute w-full bottom-0 bg-blue-200 group-hover:bg-blue-300 h-1\" />\n    </RouterLink>\n  );\n}\n\nFancyLink.propTypes = {\n  to: PropTypes.string,\n  className: PropTypes.string,\n  children: PropTypes.node,\n};\n\nFancyLink.defaultProps = {\n  to: '#',\n  className: '',\n  children: null,\n};\n\nexport default FancyLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst classes = ['rounded', 'bg-white', 'p-10', 'shadow-lg'];\n\nfunction Card({ className, children, ...rest }) {\n  return (\n    <div className={`${classes.join(' ')} ${className}`} {...rest}>\n      {children}\n    </div>\n  );\n}\n\nCard.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.node,\n};\n\nCard.defaultProps = {\n  className: '',\n  children: null,\n};\n\nexport default Card;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '#/components/button';\nimport Card from '#/components/card';\n\nfunction UserCardForm({\n  header,\n  alt,\n  image,\n  children,\n  buttonText,\n  underButton,\n  onSubmit,\n}) {\n  return (\n    <Card\n      className=\"overflow-x-hidden border-solid border-blue-500 border-t-8\"\n      tabIndex=\"-1\"\n    >\n      <div className=\"flex w-full\">\n        <div style={{ width: 300 }}>\n          <h1 className=\"text-4xl font-light mb-4\">{header}</h1>\n          <form onSubmit={onSubmit}>\n            {children}\n            <Button\n              className=\"w-full bg-blue-700 hover:bg-blue-800 text-gray-100\"\n              type=\"submit\"\n              overrideColors\n            >\n              {buttonText}\n            </Button>\n          </form>\n          <div className=\"mt-3\">{underButton}</div>\n        </div>\n        <div className=\"ml-6 -mr-3\">\n          <img className=\"w-64\" alt={alt} src={image} />\n        </div>\n      </div>\n    </Card>\n  );\n}\n\nUserCardForm.propTypes = {\n  header: PropTypes.string.isRequired,\n  alt: PropTypes.string,\n  image: PropTypes.string,\n  children: PropTypes.node,\n  buttonText: PropTypes.string,\n  underButton: PropTypes.node,\n  onSubmit: PropTypes.func.isRequired,\n};\n\nUserCardForm.defaultProps = {\n  buttonText: 'Login',\n  alt: '',\n  image: '',\n  underButton: null,\n  children: [],\n};\n\nexport default UserCardForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useFormContext } from 'react-hook-form';\nimport Input from '#/components/input';\n\nfunction UserCardFormField({ label, name, type, register }) {\n  const { errors } = useFormContext();\n\n  return (\n    <div>\n      <label htmlFor={`${name}-field`}>\n        <div className=\"flex\">\n          <div className=\"mb-1 uppercase font-bold tracking-wide text-xs text-gray-700\">\n            {label}\n          </div>\n          <div className=\"text-xs text-red-700 ml-auto\" id={`${name}-field-error`}>\n            {errors[name] && errors[name].message}\n          </div>\n        </div>\n        <Input\n          className=\"w-full mb-4\"\n          id={`${name}-field`}\n          name={name}\n          type={type}\n          aira-invalid={errors[name] ? 'true' : 'false'}\n          aira-describedby={`${name}-field-error`}\n          ref={register}\n        />\n      </label>\n    </div>\n  );\n}\n\nUserCardFormField.propTypes = {\n  label: PropTypes.node.isRequired,\n  name: PropTypes.string.isRequired,\n  type: PropTypes.string,\n  register: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.any }),\n  ]).isRequired,\n};\n\nUserCardFormField.defaultProps = {\n  type: 'text',\n};\n\nexport default UserCardFormField;\n","module.exports = __webpack_public_path__ + \"91661294d96b9174f89e8681b4d7092e.svg\";","module.exports = __webpack_public_path__ + \"5d5872dd0b0a3bba1627ba8b9dc8e3e5.svg\";","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport useForm, { FormContext } from 'react-hook-form';\nimport axios from 'axios';\nimport UserCardForm from '#/components/form/UserCardForm';\nimport UserCardFormField from '#/components/form/UserCardFormField';\nimport FancyLink from '#/components/fancy-link';\nimport enterImage from '#/assets/images/undraw_enter.svg';\nimport StudentGraphic from '#/icons/StudentGraphic.svg'\nimport { UserContext } from '#/Provider';\nimport useEffectOnce from '#/hooks/useEffectOnce';\nimport { handleRequestValidationError } from '#/../utils';\n\nfunction Login() {\n  const form = useForm();\n  const history = useHistory();\n  const [user, setUser] = React.useContext(UserContext);\n\n  useEffectOnce(() => {\n    if (user) {\n      history.replace('/');\n    }\n  });\n\n  const onSubmit = React.useCallback(\n    formData =>\n      axios\n        .post('/api/users/auth', formData)\n        .then(response => response.data)\n        .then(data => setUser({ ...data.user, token: data.token }))\n        .then(() => history.push('/chat'))\n        .catch(handleRequestValidationError(form)),\n    [form, history, setUser],\n  );\n\n  return (\n    <div className=\"flex justify-center items-center h-screen\">\n      <FormContext {...form}>\n        <UserCardForm\n          header=\"Login\"\n          image={StudentGraphic}\n          alt=\"Boy Studying\"\n          underButton={<FancyLink to=\"/register\">Need an account?</FancyLink>}\n          onSubmit={form.handleSubmit(onSubmit)}\n        >\n          <UserCardFormField\n            label=\"Username\"\n            name=\"username\"\n            type=\"text\"\n            register={form.register({ required: 'Username is required' })}\n          />\n          <UserCardFormField\n            label=\"Password\"\n            name=\"password\"\n            type=\"password\"\n            register={form.register({ required: 'Password is required' })}\n          />\n        </UserCardForm>\n      </FormContext>\n    </div>\n  );\n}\n\nexport default Login;\n","import React from 'react';\n\n// useEffect, but only on mount\nfunction useEffectOnce(fn) {\n  React.useEffect(fn, []);\n  return null;\n}\n\nexport default useEffectOnce;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst classes = 'rounded focus:shadow-outline cursor-pointer';\nconst colors = 'bg-blue-700 hover:bg-gray-800 text-gray-100';\n\nfunction Button({\n  className,\n  children,\n  type,\n  overrideColors,\n  variant,\n  ...rest\n}) {\n  let classVariants;\n\n  if (variant === 'big') {\n    classVariants = 'px-12 py-4 font-bold shadow-md hover:shadow-lg';\n  } else {\n    classVariants = 'px-4 py-2 shadow hover:shadow-md';\n  }\n\n  return (\n    // eslint-disable-next-line react/button-has-type\n    <button\n      className={`\n        ${overrideColors ? '' : colors}\n        ${classes} ${classVariants} ${className}\n      `}\n      type={type}\n      {...rest}\n    >\n      {children}\n    </button>\n  );\n}\n\nButton.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.node,\n  type: PropTypes.string,\n  variant: PropTypes.oneOf(['big', undefined]),\n  overrideColors: PropTypes.bool,\n};\n\nButton.defaultProps = {\n  className: '',\n  children: null,\n  type: 'button',\n  variant: undefined,\n  overrideColors: false,\n};\n\nexport default Button;\n","const { validationResult } = require('express-validator');\nconst R = require('ramda');\n// https://tailwindcss.com/docs/configuration/#referencing-in-javascript\nconst resolveConfig = require('tailwindcss/resolveConfig');\nconst tailwindConfig = require('./tailwind.config');\n\nconst { theme } = resolveConfig(tailwindConfig);\n\n/*\n  console.log, but it returns the value that was passed in. This\n  function is useful for inspecting the value in a promise chain, or\n  when composing functions.\n\n  usage:\n    Promise.resolve(5)\n      .then(inspect) // prints 5\n      .then(five => doSomething(five))\n      .then(inspect) // prints return value of doSomething\n*/\nfunction inspect(x) {\n  console.log(x); // eslint-disable-line no-console\n  return x;\n}\n\n/*\n  check if an object has a value for every key passed in.\n\n  usage:\n    hasProps(['foo', 'bar'], { foo: 10, bar: 20 }) === true\n    hasProps(['foo', 'bar'], { bar: 20, baz: 30 }) === false\n*/\nconst hasProps = R.curry((props, obj) =>\n  R.compose(R.all(R.identity), R.values, R.pickAll(props))(obj),\n);\n\n// middleware for express validation\n// any validation errors are sent to client\nfunction handleValidation(req, res, next) {\n  const errors = validationResult(req);\n\n  if (errors.isEmpty()) {\n    next();\n  } else {\n    res.status(400).json({ errors: errors.mapped() });\n  }\n}\n\nconst handleRequestValidationError = R.curry((form, error) => {\n  const paramErrors = error.response.data.errors;\n\n  if (!paramErrors) {\n    throw error;\n  }\n\n  R.forEachObjIndexed((value, key) => {\n    form.setError(key, 'paramError', value && value.msg);\n  }, paramErrors);\n});\n\nmodule.exports = {\n  theme,\n  inspect,\n  hasProps,\n  handleValidation,\n  handleRequestValidationError,\n};\n"],"sourceRoot":""}