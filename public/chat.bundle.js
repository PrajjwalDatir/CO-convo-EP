(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{101:function(e,a){e.exports={variants:{textColor:["responsive","hover","focus","group-hover"],backgroundColor:["responsive","hover","focus","group-hover"]},theme:{extend:{fontFamily:{display:["Raleway","sans-serif"]},screens:{sm:{min:"640px",max:"767px"},md:{min:"768px",max:"1023px"},lg:{min:"1024px",max:"1279px"},xl:{min:"1280px",max:"1535px"}},height:e=>({"screen/2":"50vh","screen/4":"25vh","screen-80":"80vh","screen-85":"85vh"})}}}},102:function(e,a,t){"use strict";var r=t(42),n=t.n(r),o=t(0),s=t.n(o),l=t(6),i=t.n(l);const c=["rounded-lg","bg-gray-200","px-3","py-2","border","border-solid","border-transparent","outline-none"].join(" "),u=s.a.forwardRef(({className:e,...a},t)=>s.a.createElement("input",n()({className:`${c} hover:border-gray-400 focus:bg-white focus:border-gray-400 ${e}`,ref:t},a)));u.propTypes={className:i.a.string},u.defaultProps={className:""},a.a=u},319:function(e,a){},523:function(e,a,t){},525:function(e,a,t){e.exports=t.p+"0ce16bb678d46f2fa7ee900a836cdc8e.svg"},526:function(e,a,t){e.exports={"spinner-parent":"_1bXKkmuCyRlq5K6H1MN-3a",spinner:"_1d-XUURtq_Usrxlm7jbYcI",spin:"_28jbo546yynUOWDADfDkZ3"}},527:function(e,a,t){e.exports=t.p+"ba4e5306b2a697394104eb080eac80c9.svg"},531:function(e,a,t){},576:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r);a.default=()=>n.a.createElement("div",null,"CO-convo-EP Terms & Privacy Policy CO-convo-EP is designed to never collect or store any sensitive information. CO-convo-EP messages and calls cannot be accessed by us or other third parties because they are always end-to-end encrypted, private, and secure. Our Terms of Service and Privacy Policy are available below.",n.a.createElement("br",null),"Terms of Service Privacy Policy Terms of Service CO-convo-EP Messenger LLC. (“Signal”) utilizes state-of-the-art security and end-to-end encryption to provide private messaging, Internet calling, and other services to users worldwide. You agree to our Terms of Service (“Terms”) by installing or using our apps, services, or website (together, “Services”).",n.a.createElement("br",null),"About our services Minimum Age. You must be at least 13 years old to use our Services. The minimum age to use our Services without parental approval may be higher in your home country.",n.a.createElement("br",null),"Account Registration. To create an account you must register for our Services using your phone number. You agree to receive text messages and phone calls (from us or our third-party providers) with verification codes to register for our Services.",n.a.createElement("br",null),"Privacy of user data. CO-convo-EP does not sell, rent or monetize your personal data or content in any way – ever.",n.a.createElement("br",null),"Please read our Privacy Policy to understand how we safeguard the information you provide when using our Services. For the purpose of operating our Services, you agree to our data practices as described in our Privacy Policy, as well as the transfer of your encrypted information and metadata to the United States and other countries where we have or use facilities, service providers or partners. Examples would be Third Party Providers sending you a verification code and processing your support tickets.",n.a.createElement("br",null),"Software. In order to enable new features and enhanced functionality, you consent to downloading and installing updates to our Services.",n.a.createElement("br",null),"Fees and Taxes. You are responsible for data and mobile carrier fees and taxes associated with the devices on which you use our Services.",n.a.createElement("br",null),"Using CO-convo-EP Our Terms and Policies. You must use our Services according to our Terms and posted policies. If we disable your account for a violation of our Terms, you will not create another account without our permission.",n.a.createElement("br",null),"Legal and Acceptable Use. You agree to use our Services only for legal, authorized, and acceptable purposes. You will not use (or assist others in using) our Services in ways that: (a) violate or infringe the rights of CO-convo-EP, our users, or others, including privacy, publicity, intellectual property, or other proprietary rights; (b) involve sending illegal or impermissible communications such as bulk messaging, auto-messaging, and auto-dialing.",n.a.createElement("br",null),"Harm to CO-convo-EP. You must not (or assist others to) access, use, modify, distribute, transfer, or exploit our Services in unauthorized manners, or in ways that harm CO-convo-EP, our Services, or systems. For example you must not (a) gain or try to gain unauthorized access to our Services or systems; (b) disrupt the integrity or performance of our Services; (c) create accounts for our Services through unauthorized or automated means; (d) collect information about our users in any unauthorized manner; or (e) sell, rent, or charge for our Services.",n.a.createElement("br",null),"Keeping Your Account Secure. CO-convo-EP embraces privacy by design and does not have the ability to access your messages. You are responsible for keeping your device and your CO-convo-EP account safe and secure. If you lose your phone, follow the steps on our Support site to re-register for our Services. When you register with a new device, your old device will stop receiving all messages and calls.",n.a.createElement("br",null),"No Access to Emergency Services. Our Services do not provide access to emergency service providers like the police, fire department, hospitals, or other public safety organizations. Make sure you can contact emergency service providers through a mobile, fixed-line telephone, or other service.",n.a.createElement("br",null),"Third-party services. Our Services may allow you to access, use, or interact with third-party websites, apps, content, and other products and services. When you use third-party services, their terms and privacy policies govern your use of those services.",n.a.createElement("br",null),"Your Rights and License with CO-convo-EP Your Rights. You own the information you submit through our Services. You must have the rights to the phone number you use to sign up for your CO-convo-EP account.",n.a.createElement("br",null),"Signal’s Rights. We own all copyrights, trademarks, domains, logos, trade dress, trade secrets, patents, and other intellectual property rights associated with our Services. You may not use our copyrights, trademarks, domains, logos, trade dress, patents, and other intellectual property rights unless you have our written permission. To report copyright, trademark, or other intellectual property infringement, please contact abuse@signal.org.",n.a.createElement("br",null),"Signal’s License to You. CO-convo-EP grants you a limited, revocable, non-exclusive, and non-transferable license to use our Services in accordance with these Terms.",n.a.createElement("br",null),"Disclaimers and Limitations Disclaimers. YOU USE OUR SERVICES AT YOUR OWN RISK AND SUBJECT TO THE FOLLOWING DISCLAIMERS. WE PROVIDE OUR SERVICES ON AN “AS IS” BASIS WITHOUT ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, NON-INFRINGEMENT, AND FREEDOM FROM COMPUTER VIRUS OR OTHER HARMFUL CODE. SIGNAL DOES NOT WARRANT THAT ANY INFORMATION PROVIDED BY US IS ACCURATE, COMPLETE, OR USEFUL, THAT OUR SERVICES WILL BE OPERATIONAL, ERROR-FREE, SECURE, OR SAFE, OR THAT OUR SERVICES WILL FUNCTION WITHOUT DISRUPTIONS, DELAYS, OR IMPERFECTIONS. WE DO NOT CONTROL, AND ARE NOT RESPONSIBLE FOR, CONTROLLING HOW OR WHEN OUR USERS USE OUR SERVICES. WE ARE NOT RESPONSIBLE FOR THE ACTIONS OR INFORMATION (INCLUDING CONTENT) OF OUR USERS OR OTHER THIRD PARTIES. YOU RELEASE US, AFFILIATES, DIRECTORS, OFFICERS, EMPLOYEES, PARTNERS, AND AGENTS (TOGETHER, “SIGNAL PARTIES”) FROM ANY CLAIM, COMPLAINT, CAUSE OF ACTION, CONTROVERSY, OR DISPUTE (TOGETHER, “CLAIM”) AND DAMAGES, KNOWN AND UNKNOWN, RELATING TO, ARISING OUT OF, OR IN ANY WAY CONNECTED WITH ANY SUCH CLAIM YOU HAVE AGAINST ANY THIRD PARTIES.",n.a.createElement("br",null),"Limitation of liability. THE SIGNAL PARTIES WILL NOT BE LIABLE TO YOU FOR ANY LOST PROFITS OR CONSEQUENTIAL, SPECIAL, PUNITIVE, INDIRECT, OR INCIDENTAL DAMAGES RELATING TO, ARISING OUT OF, OR IN ANY WAY IN CONNECTION WITH OUR TERMS, US, OR OUR SERVICES, EVEN IF THE SIGNAL PARTIES HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. OUR AGGREGATE LIABILITY RELATING TO, ARISING OUT OF, OR IN ANY WAY IN CONNECTION WITH OUR TERMS, US, OR OUR SERVICES WILL NOT EXCEED ONE HUNDRED DOLLARS ($100). THE FOREGOING DISCLAIMER OF CERTAIN DAMAGES AND LIMITATION OF LIABILITY WILL APPLY TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW. THE LAWS OF SOME STATES OR JURISDICTIONS MAY NOT ALLOW THE EXCLUSION OR LIMITATION OF CERTAIN DAMAGES, SO SOME OR ALL OF THE EXCLUSIONS AND LIMITATIONS SET FORTH ABOVE MAY NOT APPLY TO YOU. NOTWITHSTANDING ANYTHING TO THE CONTRARY IN OUR TERMS, IN SUCH CASES, THE LIABILITY OF THE SIGNAL PARTIES WILL BE LIMITED TO THE FULLEST EXTENT PERMITTED BY APPLICABLE LAW.",n.a.createElement("br",null),"Availability of Our Services. Our Services may be interrupted, including for maintenance, upgrades, or network or equipment failures. We may discontinue some or all of our Services, including certain features and the support for certain devices and platforms, at any time.",n.a.createElement("br",null),"Resolving Disputes and Ending Terms Resolving disputes. You agree to resolve any Claim you have with us relating to or arising out of our Terms, us, or our Services exclusively in the United States District Court for the Northern District of California or a state court in San Mateo County, California. You also agree to submit to the personal jurisdiction of such courts for the purpose of litigating all such disputes. The laws of the State of California govern our Terms, as well as any disputes, whether in court or arbitration, which might arise between CO-convo-EP and you, without regard to conflict of law provisions.",n.a.createElement("br",null),"Ending these Terms. You may end these Terms with CO-convo-EP at any time by deleting CO-convo-EP Messenger from your device and discontinuing use of our Services. We may modify, suspend, or terminate your access to or use of our Services anytime for any reason, such as if you violate the letter or spirit of our Terms or create harm, risk, or possible legal exposure for CO-convo-EP. The following provisions will survive termination of your relationship with CO-convo-EP: “Licenses,” “Disclaimers,” “Limitation of Liability,” “Resolving dispute,” “Availability” and “Ending these Terms,” and “General”.",n.a.createElement("br",null),"General CO-convo-EP may update the Terms from time to time. When we update our Terms, we will update the “Last Modified” date associated with the updated Terms. Your continued use of our Services confirms your acceptance of our updated Terms and supersedes any prior Terms. You will comply with all applicable export control and trade sanctions laws. Our Terms cover the entire agreement between you and CO-convo-EP regarding our Services. If you do not agree with our Terms, you should stop using our Services.",n.a.createElement("br",null),"If we fail to enforce any of our Terms, that does not mean we waive the right to enforce them. If any provision of the Terms is deemed unlawful, void, or unenforceable, that provision shall be deemed severable from our Terms and shall not affect the enforceability of the remaining provisions. Our Services are not intended for distribution to or use in any country where such distribution or use would violate local law or would subject us to any regulations in another country. We reserve the right to limit our Services in any country. If you have specific questions about these Terms, please contact us at privacy@signal.org.",n.a.createElement("br",null),"Privacy Policy CO-convo-EP utilizes state-of-the-art security and end-to-end encryption to provide private messaging and Internet calling services to users worldwide (“Services”). Your calls and messages are always encrypted, so they can never be shared or viewed by anyone but yourself and the intended recipients.",n.a.createElement("br",null),"Information you provide Account Information. You register a phone number when you create a CO-convo-EP account. Phone numbers are used to provide our Services to you and other CO-convo-EP users. You may optionally add other information to your account, such as a profile name and profile picture. This information is end-to-end encrypted.",n.a.createElement("br",null),"Messages. CO-convo-EP cannot decrypt or otherwise access the content of your messages or calls. CO-convo-EP queues end-to-end encrypted messages on its servers for delivery to devices that are temporarily offline (e.g. a phone whose battery has died). Your message history is stored on your own devices.",n.a.createElement("br",null),"Additional technical information is stored on our servers, including randomly generated authentication tokens, keys, push tokens, and other material that is necessary to establish calls and transmit messages. CO-convo-EP limits this additional technical information to the minimum required to operate the Services.",n.a.createElement("br",null),"Contacts. CO-convo-EP can optionally discover which contacts in your address book are CO-convo-EP users, using a service designed to protect the privacy of your contacts. Information from the contacts on your device may be cryptographically hashed and transmitted to the server in order to determine which of your contacts are registered.",n.a.createElement("br",null),"User Support. If you contact CO-convo-EP User Support, any personal data you may share with us is kept only for the purposes of researching the issue and contacting you about your case.",n.a.createElement("br",null),"Managing your information. You can manage your personal information in Signal’s application Settings. For example, you can update your profile information or choose to enable additional privacy features like a Registration Lock PIN.",n.a.createElement("br",null),"Information we may share Third Parties. We work with third parties to provide some of our Services. For example, our Third-Party Providers send a verification code to your phone number when you register for our Services. These providers are bound by their Privacy Policies to safeguard that information. If you use other Third-Party Services like YouTube, Spotify, Giphy, etc. in connection with our Services, their Terms and Privacy Policies govern your use of those services.",n.a.createElement("br",null),"Other instances where CO-convo-EP may need to share your data",n.a.createElement("br",null),"To meet any applicable law, regulation, legal process or enforceable governmental request. To enforce applicable Terms, including investigation of potential violations. To detect, prevent, or otherwise address fraud, security, or technical issues. To protect against harm to the rights, property, or safety of CO-convo-EP, our users, or the public as required or permitted by law. Updates We will update this privacy policy as needed so that it is current, accurate, and as clear as possible. Your continued use of our Services confirms your acceptance of our updated Privacy Policy.",n.a.createElement("br",null),"Terms Please also read our Terms which also governs the terms of this Privacy Policy. Contact Us 1) Prajjwal Datir 2) Ganesh Gitte 3) Aditi Medhane")},577:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return A}));var r=t(0),n=t.n(r),o=t(578),s=t(583),l=t(581),i=t(585),c=t(586),u=t(587),m=t(588),d=t(590),p=t(274),h=t.n(p),E=t(275),g=t.n(E),y=t(273),f=t.n(y),v=t(276),b=t.n(v),T=t(192),N=t.n(T),O=t(272),S=t.n(O),C=t(584),w=t(591),I=t(5),x=t(12);const R=Object(o.a)(e=>({root:{flexGrow:1,padding:e.spacing(2)},paper:{padding:e.spacing(2)},title:{paddingLeft:20},listItem:{padding:e.spacing(3)},nested:{paddingLeft:e.spacing(12)},back:{color:"black"},logOut:{textAlign:"center"}}));function A(){const e=Object(I.f)(),a=R(),[t,o]=Object(r.useState)(!1),[p,E]=Object(r.useState)(!1),[y,v]=Object(r.useState)(!1),[T,O]=n.a.useContext(x.a),A=n.a.useCallback(()=>{O(null),e.push("/")},[O,e]);return n.a.createElement("div",{className:a.root},n.a.createElement(l.a,{container:!0,spacing:2},n.a.createElement(l.a,{item:!0,xs:12},n.a.createElement(s.a,{className:a.paper,elevation:5},n.a.createElement(C.a,{edge:"start",className:a.button,color:"inherit","aria-label":"Back to Home Page",onClick:()=>{e.push("/chat")}},n.a.createElement(S.a,null)),n.a.createElement("strong",{className:a.title},"Settings"))),n.a.createElement(l.a,{item:!0,xs:12},n.a.createElement(s.a,{className:a.paper,elevation:5},n.a.createElement("h4",null,"Username : ",T&&T.username),n.a.createElement("p",null,"Email : ",T&&T.email))),n.a.createElement(l.a,{item:!0,xs:12},n.a.createElement(s.a,{className:a.paper,elevation:3},n.a.createElement(i.a,null,n.a.createElement(c.a,{button:!0,className:a.listItem,onClick:()=>{o(!t)}},n.a.createElement(u.a,null,n.a.createElement(f.a,null)),n.a.createElement(m.a,{primary:"Account Settings"}),t?n.a.createElement(h.a,null):n.a.createElement(g.a,null)),n.a.createElement(d.a,{in:t,timeout:"auto",unmountOnExit:!0},n.a.createElement(i.a,{component:"div",disablePadding:!0},n.a.createElement(c.a,{button:!0,className:a.nested},n.a.createElement(m.a,{primary:"Edit Account"})),n.a.createElement(c.a,{button:!0,className:a.nested},n.a.createElement(m.a,{primary:"Delete Account"})))),n.a.createElement(c.a,{button:!0,className:a.listItem,onClick:()=>{E(!p)}},n.a.createElement(u.a,null,n.a.createElement(b.a,null)),n.a.createElement(m.a,{primary:"Chat Settings"}),p?n.a.createElement(h.a,null):n.a.createElement(g.a,null)),n.a.createElement(d.a,{in:p,timeout:"auto",unmountOnExit:!0},n.a.createElement(i.a,{component:"div",disablePadding:!0},n.a.createElement(c.a,{button:!0,className:a.nested},n.a.createElement(m.a,{primary:"Export Chat History"})),n.a.createElement(c.a,{button:!0,className:a.nested},n.a.createElement(m.a,{primary:"Delete Chat History"})))),n.a.createElement(c.a,{button:!0,className:a.listItem,onClick:()=>{e.push("/legal")}},n.a.createElement(u.a,null,n.a.createElement(N.a,null)),n.a.createElement(m.a,{primary:"Terms and Conditions"}))))),n.a.createElement(l.a,{item:!0,xs:12},n.a.createElement(s.a,{className:`${a.paper} ${a.logOut}`,elevation:5},n.a.createElement(w.a,{onClick:A,fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign Out")))))}},600:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(5),s=t(93),l=t.n(s),i=t(293),c=t.n(i),u=t(322);const m=n.a.createContext(null);function d(){return{state:{socket:c()(),channels:[],whoIsTyping:[],chatMessages:[],typingTimeout:void 0,currentChannel:void 0,isTyping:!1,contentShouldScrollDown:!1,channelFetchError:!1},performEffect:e=>{e({type:"fetch-channels"})}}}var p=function(e,a){const t=e.state;return Object(u.a)(e,e=>{const{payload:r}=a,{socket:n}=e.state;switch(e.state.contentShouldScrollDown=!1,e.performEffect=void 0,a.type){case"fetch-channels":e.state.channelFetchError=!1,e.performEffect=e=>{l.a.get("/api/chat-channels").then(e=>e.data.chatChannels).then(a=>e({type:"set-channels",payload:{channels:a}})).catch(()=>e({type:"channel-list-fetch-error"}))};break;case"set-channels":e.state.channels=r.channels;break;case"channel-list-fetch-error":e.state.channelFetchError=!0;break;case"change-channel":if(!n)break;Object.assign(e.state,{message:"",isTyping:!1,typingTimeout:void 0,currentChannel:e.state.currentChannel&&e.state.currentChannel._id===r.channel._id?void 0:r.channel,chatMessages:[],whoIsTyping:[]}),e.performEffect=()=>{clearTimeout(t.typingTimeout),n.emit("join channel",r.channel._id),t.currentChannel&&(n.emit("stop typing",{username:r.user.username,channelId:t.currentChannel._id}),n.emit("leave channel",t.currentChannel._id))};break;case"start-typing":if(!n)break;e.state.isTyping=!0,e.performEffect=e=>{e({type:"set-typing-timeout",payload:{timeout:setTimeout(()=>{e({type:"stop-typing",payload:{user:r.user}})},4e3)}}),t.isTyping||n.emit("start typing",{username:r.user.username,channelId:t.currentChannel._id}),clearTimeout(t.typingTimeout)};break;case"set-typing-timeout":e.state.typingTimeout=r.timeout;break;case"stop-typing":if(!n)break;e.state.isTyping=!1,e.performEffect=()=>{clearTimeout(t.typingTimeout),n.emit("stop typing",{username:r.user.username,channelId:t.currentChannel._id})};break;case"send-message":if(!n||!r.message)break;e.state.isTyping=!1,e.performEffect=()=>{clearTimeout(t.typingTimeout),n.emit("chat message",{user:r.user,message:r.message,channelId:t.currentChannel._id}),n.emit("stop typing",{username:r.user.username,channelId:t.currentChannel._id})};break;case"scroll-chat-to-bottom":e.state.contentShouldScrollDown=!0;break;case"recieve-message":e.state.chatMessages.push(r.chatMessage),e.state.contentShouldScrollDown=!0;break;case"add-user-typing":e.state.whoIsTyping.push(r.username);break;case"remove-user-typing":{const a=t.whoIsTyping.indexOf(r.username);-1!==a&&e.state.whoIsTyping.splice(a,1);break}}})},h=t(323),E=t.n(h),g=t(157),y=t(120),f=t(233),v=t(236),b=t(228),T=t(47),N=t(235),O=(t(213),t(544)),S=t(6),C=t.n(S),w=t(12);const I={maxHeight:"16em"};function x({messageInputRef:e}){const[,a]=n.a.useContext(m),[t]=n.a.useContext(w.a),r=n.a.useCallback(r=>{r.preventDefault(),a({type:"send-message",payload:{user:t,message:e.current.value.trim()}}),e.current.value=""},[a,t,e]),o=n.a.useCallback(e=>{"Enter"!==e.key||e.shiftKey||r(e)},[r]),s=n.a.useCallback(()=>{a({type:"start-typing",payload:{user:t}})},[a,t]);return n.a.useEffect(()=>{const a=e.current;a&&(a.style.height="auto",a.style.height=`${a.scrollHeight}px`)}),n.a.createElement("form",{className:"flex flex-grow mr-4",onSubmit:r},n.a.createElement("label",{className:"w-full flex items-center",htmlFor:"message-input"},n.a.createElement("div",{className:"sr-only"},"Send a message"),n.a.createElement("textarea",{className:["bg-gray-200","w-full","placeholder-gray-800","resize-none","outline-none","overflow-y-auto","overflow-x-hidden","px-3","py-2","rounded-l-lg"].join(" "),style:I,id:"message-input",rows:"1",placeholder:"Send a message",onChange:s,onKeyDown:o,autoComplete:"off",ref:e})))}x.propTypes={messageInputRef:C.a.oneOfType([C.a.func,C.a.shape({current:C.a.any})])},x.defaultProps={messageInputRef:n.a.createRef()};var R=n.a.memo(x),A=t(42),P=t.n(A);var k=function(e){return n.a.createElement("svg",P()({viewBox:"0 0 24 24",width:"24",height:"24"},e),n.a.createElement("path",{d:"M12 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-3.54-4.46a1 1 0 0 1 1.42-1.42 3 3 0 0 0 4.24 0 1 1 0 0 1 1.42 1.42 5 5 0 0 1-7.08 0zM9 11a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm6 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"}))},L=t(95),D=t(69);function U({bgClassName:e,children:a,onClose:t,isOpen:r}){return Object(D.a)(()=>{function e(e){"Esc"!==e.key&&"Escape"!==e.key||t(e)}return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),n.a.createElement("div",{className:r?"":"invisible"},n.a.createElement("button",{type:"button",className:`fixed inset-0 w-full h-full cursor-default z-40 ${e}`,onClick:t,"aria-label":"Close menu",tabIndex:"-1"}),n.a.createElement("div",{className:"relative z-50"},a))}U.propTypes={bgClassName:C.a.string,children:C.a.node,onClose:C.a.func,isOpen:C.a.bool},U.defaultProps={bgClassName:"",children:null,onClose:L.a(),isOpen:!1};var F=U,M=t(80);t(523);var Y=n.a.memo((function(){const[e]=n.a.useContext(m),[a,t]=n.a.useState(!1),o=n.a.useRef(null),s=n.a.useCallback(()=>{t(!1)},[]),l=n.a.useCallback(()=>{t(g.a)},[]),i=n.a.useCallback(e=>{o.current.value+=e.native},[o]),c=n.a.useMemo(()=>y.a(f.a([[v.a,()=>n.a.createElement(n.a.Fragment,null," ")],[e=>1===e.length,e=>n.a.createElement(n.a.Fragment,null,e," is typing...")],[e=>(e.length+1)/2<=3,e=>n.a.createElement(n.a.Fragment,null,e," are typing...")],[b.a,()=>"Several people are typing..."]]),T.a(e=>n.a.createElement(r.Fragment,{key:E()()},e)),N.a(" and "),T.a(e=>n.a.createElement("span",{className:"font-bold"},e)))(e.whoIsTyping),[e.whoIsTyping]);return n.a.createElement("div",{className:"mt-6 mb-1 mx-6"},n.a.createElement("div",{className:"flex items-center -mb-1"},n.a.createElement("div",{className:"rounded-lg bg-gray-200 flex w-full"},n.a.createElement(R,{messageInputRef:o}),n.a.createElement("button",{className:"px-2 text-gray-600 hover:text-gray-700",type:"button",onClick:l},n.a.createElement(k,{className:"fill-current"})),n.a.createElement(F,{onClose:s,isOpen:a},n.a.createElement("div",{className:"absolute right-0 bottom-0 mb-12 shadow-md"},n.a.createElement(O.a,{set:"google",emoji:"",title:"",onSelect:i,color:M.theme.colors.blue[500]}))))),n.a.createElement("div",{className:"ml-2 text-gray-700 mt-1"},c))})),H=t(524),G=t(237),j=t(234);function W({message:e}){const a=n.a.useRef(!0),[t,r]=n.a.useState(null),[o,s]=n.a.useState(!0),l=n.a.useCallback(()=>{setTimeout(()=>{a.current&&s(!0)},6e4)},[s]);return n.a.useEffect(()=>{if(o){s(!1);const a=H.DateTime.fromISO(e.sent),t=H.DateTime.local().diff(a,"minutes").toObject().minutes;G.a(r,f.a([[j.a(1),G.a(()=>"Just now",l)],[j.a(10),G.a(()=>a.toRelative(),l)],[b.a,()=>a.toLocaleString(H.DateTime.DATETIME_MED)]]))(t)}},[e.sent,t,o,l]),Object(D.a)(()=>()=>{a.current=!1}),n.a.createElement("div",{className:"my-3"},n.a.createElement("div",null,n.a.createElement("span",{className:"font-bold mr-1"},e.user?e.user.username:n.a.createElement(n.a.Fragment,null," ")),n.a.createElement("span",{className:"text-xs text-gray-700"},n.a.createElement("time",{dateTime:e.sent},t))),n.a.createElement("div",{className:"whitespace-pre-line"},e.message))}W.propTypes={message:C.a.shape({user:C.a.shape({username:C.a.string}),sent:C.a.string,message:C.a.string}).isRequired};var V=n.a.memo(W);function B({children:e,direction:a}){return n.a.createElement("div",{className:`my-8 flex flex-grow bg-white rounded-lg shadow-xl ${a}`},e)}B.propTypes={children:C.a.node,direction:C.a.string},B.defaultProps={children:null,direction:"flex-row"};var z=B;t(525);var _=function(){return n.a.createElement(z,null,n.a.createElement("div",{className:"relative flex flex-grow items-center overflow-hidden"},n.a.createElement("div",{className:"mx-12 mb-8 z-10"},n.a.createElement("h1",{className:"text-5xl whitespace-normal leading-tight font-bold",style:{fontFamily:"Raleway, sans-serif"}},"No chat selected"),n.a.createElement("p",{className:"text-gray-700 text-xl mt-4"},"To start chatting, join or create a group from the sidebar"))))},$=t(526),q=t.n($);var X=function(){return n.a.createElement(z,null,n.a.createElement("div",{className:"flex flex-grow justify-center items-center"},n.a.createElement("h1",{className:"text-2xl text-gray-700"},"Loading..."),n.a.createElement("div",{className:`w-48 h-48 flex justify-center items-center ${q.a["spinner-parent"]}`},n.a.createElement("div",{className:`rounded-full w-20 h-20 bg-blue-200 ${q.a.spinner}`}))))},K=t(527),J=t.n(K);var Q=function(){return n.a.createElement(z,null,n.a.createElement("div",{className:"flex flex-col items-center justify-center"},n.a.createElement("div",{className:"ml-8"},n.a.createElement("h1",{className:"text-5xl whitespace-normal leading-tight font-bold",style:{fontFamily:"Raleway, sans-serif"}},"A server error has occurred."),n.a.createElement("p",{className:"text-gray-700 text-xl mt-2 mb-5"},"Please try again later")),n.a.createElement("img",{className:"w-3/5",alt:"Man looking at map",src:J.a})))};var Z=function(e){return n.a.createElement("svg",P()({viewBox:"0 0 24 24",width:"24",height:"24"},e),n.a.createElement("path",{d:"M6 14H4a2 2 0 0 1-2-2V4c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v2h2a2 2 0 0 1 2 2v13a1 1 0 0 1-1.7.7L16.58 18H8a2 2 0 0 1-2-2v-2zm0-2V8c0-1.1.9-2 2-2h8V4H4v8h2zm14-4H8v8h9a1 1 0 0 1 .7.3l2.3 2.29V8z"}))};var ee=n.a.memo((function(){const[e,a]=n.a.useContext(m),[t,r]=n.a.useState(void 0),o=n.a.useRef(null);return n.a.useEffect(()=>{e.contentShouldScrollDown&&o.current&&(o.current.scrollTop=o.current.scrollHeight)},[e.contentShouldScrollDown]),n.a.useEffect(()=>{r(void 0),e.currentChannel&&l.a.get(`/api/chat-channels/${e.currentChannel._id}?limit=9999`).then(e=>e.data).then(e=>e.chatChannel).then(r).then(()=>a({type:"scroll-chat-to-bottom"})).catch(()=>r(new Error("A server error has occurred.")))},[e.currentChannel,a]),e.currentChannel?t?t instanceof Error?n.a.createElement(Q,null):n.a.createElement(z,{direction:"flex-col"},n.a.createElement("div",{className:"mt-4 mb-1 mx-6"},n.a.createElement("h1",{className:"text-xl font-bold text-gray-900"},n.a.createElement(Z,{className:"fill-current inline mr-4 text-gray-700"}),t.name)),n.a.createElement("hr",null),n.a.createElement("div",{className:"flex-grow px-6 overflow-y-scroll",ref:o},n.a.createElement("div",{className:"relative"},n.a.createElement("div",{className:"absolute py-4 w-full break-words pr-24"},t.messages&&t.messages.map(e=>n.a.createElement(V,{key:e._id,message:e})),e.chatMessages.map(e=>n.a.createElement(V,{key:e._id,message:e}))))),n.a.createElement("hr",null),n.a.createElement(Y,null)):n.a.createElement(X,null):n.a.createElement(_,null)}));function ae({channel:e,groupType:a}){const[t,r]=n.a.useContext(m),[o]=n.a.useContext(w.a),s=n.a.useCallback(()=>r({type:"change-channel",payload:{channel:e,user:o}}),[r,o,e]);return 0===a||1===a&&1===e.groupType||2===a&&2===e.groupType?n.a.createElement("button",{className:`block w-full text-left p-1 pl-4 rounded-lg truncate font-bold ${t.currentChannel&&t.currentChannel._id===e._id?"text-blue-700 hover:text-blue-900 bg-blue-100":"hover:text-gray-900 hover:bg-gray-200"}`,type:"button",onClick:t.fetchingChannel?L.a():s},e.name):n.a.createElement(n.a.Fragment,null)}ae.propTypes={channel:C.a.shape({_id:C.a.string,name:C.a.string,groupType:C.a.number}).isRequired};var te=n.a.memo(ae),re=t(103);function ne({bgClassName:e,onClose:a,isOpen:t,children:r}){return n.a.createElement(F,{bgClassName:e,onClose:a,isOpen:t},n.a.createElement("div",{className:"fixed w-screen h-screen inset-0 pointer-events-none"},n.a.createElement("div",{className:"flex w-screen h-screen items-center justify-center"},n.a.createElement("div",{className:"pointer-events-auto"},r))))}ne.propTypes={bgClassName:C.a.string,children:C.a.node,onClose:C.a.func,isOpen:C.a.bool},ne.defaultProps={bgClassName:"bg-gray-900 opacity-25",children:null,onClose:L.a(),isOpen:!1};var oe=ne,se=t(102),le=t(75);function ie({isOpen:e,onClose:a}){const[,t]=n.a.useContext(m),r=Object(re.b)(),[o]=n.a.useContext(w.a),s=n.a.useCallback(e=>{o&&l.a.post("/api/chat-channels",e,{headers:{Authorization:o.token}}).then(a).then(()=>r.setValue("name","")).then(()=>r.clearError()).then(()=>t({type:"fetch-channels"})).catch(Object(M.handleRequestValidationError)(r))},[o,a,r,t]);return n.a.createElement(oe,{onClose:a,isOpen:e},n.a.createElement("form",{className:"shadow-lg",onSubmit:r.handleSubmit(s),style:{width:400}},n.a.createElement("div",{className:"p-8 pb-4 bg-white rounded-t border-solid border-blue-500 border-t-4"},n.a.createElement("h1",{className:"text-3xl font-light mb-4"},"Create a Chat"),n.a.createElement("label",{htmlFor:"add-channel-input"},n.a.createElement("div",{className:"sr-only"},"Chat Name"),n.a.createElement(se.a,{className:"w-full",id:"add-channel-input",name:"name",placeholder:"Enter Chat Name",ref:r.register({required:"Please enter a channel name"})})),n.a.createElement("span",{className:"text-xs text-red-700 ml-1"},r.errors.name?r.errors.name.message:n.a.createElement(n.a.Fragment,null," "))),n.a.createElement("div",{className:"p-6 text-right bg-gray-100 rounded-b"},n.a.createElement(le.a,{className:"bg-gray-100 hover:bg-gray-200 text-gray-900 shadow-none hover:shadow-none",type:"button",onClick:a,overrideColors:!0},"Cancel"),n.a.createElement(le.a,{className:"ml-4 bg-blue-700 hover:bg-blue-800 text-gray-100",type:"submit",overrideColors:!0},"Create"))))}ie.propTypes={isOpen:C.a.bool,onClose:C.a.func},ie.defaultProps={isOpen:!1,onClose:L.a()};var ce=n.a.memo(ie);var ue=function(e){return n.a.createElement("svg",P()({viewBox:"0 0 24 24",width:"24",height:"24"},e),n.a.createElement("path",{d:"M17 11a1 1 0 0 1 0 2h-4v4a1 1 0 0 1-2 0v-4H7a1 1 0 0 1 0-2h4V7a1 1 0 0 1 2 0v4h4z"}))};function me({channels:e,groupType:a}){const[t,r]=n.a.useState(!1),[s,l]=n.a.useState(!1),i=(Object(o.f)(),n.a.useCallback(()=>{r(!1)},[])),c=n.a.useCallback(()=>{r(g.a)},[]);n.a.useCallback(()=>{l(g.a)},[]);return n.a.createElement("div",{className:"max-h-screen-85 w-64 px-2 mr-4 mt-16 overflow-y-auto"},n.a.createElement("div",{className:"relative"},n.a.createElement("div",{className:"absolute w-full py-12"},n.a.createElement("div",{className:"text-gray-700 font-bold"},n.a.createElement("div",{className:"mb-2 uppercase tracking-wide text-xs"},"Chats"),n.a.createElement("div",{className:"w-full"},e.map(e=>n.a.createElement(te,{key:e._id,channel:e,groupType:a}))),n.a.createElement("div",{className:"mt-8"},n.a.createElement("button",{type:"button",className:"block w-full flex items-center rounded-lg hover:bg-gray-200 text-gray-700 hover:text-gray-900 p-1",onClick:c},n.a.createElement(ue,{className:"fill-current text-gray-600 mr-1"}),"New Chat"),n.a.createElement("div",{className:"font-normal"},n.a.createElement(ce,{isOpen:t,onClose:i})))))))}me.propTypes={channels:C.a.arrayOf(C.a.shape({_id:C.a.string,name:C.a.string}))},me.defaultProps={channels:[]};var de=n.a.memo(me),pe=t(578),he=t(594),Ee=t(595),ge=t(589),ye=t(530),fe=t.n(ye),ve=t(583),be=t(603),Te=t(592);const Ne=Object(pe.a)({root:{flexGrow:1,position:"fixed",width:"100%",backgroundColor:"rgba(155,255,155,1)",borderRadius:0}}),Oe=({groupType:e,setGroupType:a})=>{const t=Ne(),[o,s]=n.a.useState(0);return Object(r.useEffect)(()=>{a(o)},[o]),n.a.createElement(ve.a,{className:t.root,elevation:5},n.a.createElement(be.a,{value:o,onChange:(e,a)=>{s(a)},indicatorColor:"primary",textColor:"primary",centered:!0},n.a.createElement(Te.a,{label:"ALL",value:0}),n.a.createElement(Te.a,{label:"OFFICIAL",value:1}),n.a.createElement(Te.a,{label:"UNOFFICIAL",value:2})))};var Se=t(584),Ce=t(602),we=t(585),Ie=t(586),xe=t(588),Re=t(593),Ae=t(606),Pe=t(528),ke=t.n(Pe),Le=t(529),De=t.n(Le),Ue=t(192),Fe=t.n(Ue);const Me=Object(pe.a)(e=>({list:{width:"20em",marginTop:e.spacing(14)},drawer:{flexShrink:0},avatar:{backgroundColor:"green"}}));var Ye=({drawerOpen:e,setDrawerOpen:a})=>{const t=Object(o.f)(),r=Me();return n.a.createElement(n.a.Fragment,null,n.a.createElement(Ce.a,{anchor:"right",open:e,onClose:()=>{a(!e)},className:r.drawer},n.a.createElement(we.a,{className:r.list},n.a.createElement(Ie.a,{button:!0,onClick:()=>{t.push("/")}},n.a.createElement(Re.a,null,n.a.createElement(Ae.a,{className:r.avatar},n.a.createElement(ke.a,null))),n.a.createElement(xe.a,{primary:"Home"})),n.a.createElement(Ie.a,{button:!0,onClick:()=>{t.push("/settings")}},n.a.createElement(Re.a,null,n.a.createElement(Ae.a,{className:r.avatar},n.a.createElement(De.a,null))),n.a.createElement(xe.a,{primary:"Profile"})),n.a.createElement(Ie.a,{button:!0},n.a.createElement(Re.a,null,n.a.createElement(Ae.a,{className:r.avatar},n.a.createElement(Fe.a,null))),n.a.createElement(xe.a,{primary:"Help"})))))};const He=Object(pe.a)(e=>({root:{flexGrow:1},toolbar:{display:"flex",[e.breakpoints.down("xs")]:{alignSelf:"center"}},button:{display:"none",[e.breakpoints.up("sm")]:{display:"block",marginRight:e.spacing(2)}},appBar:{zIndex:e.zIndex.drawer+1},title:{flexGrow:1}}));function Ge({groupType:e,setGroupType:a}){const t=He(),[o,s]=Object(r.useState)(!1);return n.a.createElement("div",{className:t.root},n.a.createElement(he.a,{position:"fixed",className:t.appBar},n.a.createElement(Ee.a,{className:t.toolbar},n.a.createElement(ge.a,{variant:"h5",className:t.title},"CO-convo-EP"),n.a.createElement(Se.a,{edge:"start",className:t.button,color:"inherit","aria-label":"Settings Page",onClick:()=>{s(!o)}},n.a.createElement(fe.a,null))),n.a.createElement("div",null,n.a.createElement(Oe,{groupType:e,setGroupType:a}))),n.a.createElement(Ye,{drawerOpen:o,setDrawerOpen:s}))}var je=t(591);var We={id:"1",blockName:"convo",children:[{id:"11",blockName:"CS",children:[{id:"608729ddd980e17e8cf25a3a",blockName:"Honors",children:[]},{id:"111",blockName:"Div2",children:[{id:"1111",blockName:"OS",children:[{id:"608729e5d980e17e8cf25a3b",blockName:"OS Class",children:[]},{id:"608729edd980e17e8cf25a3c",blockName:"OS BatchGroup",children:[]}]},{id:"608729f5d980e17e8cf25a3d",blockName:"AC",children:[]},{id:"1112",blockName:"SE",children:[{id:"608729fbd980e17e8cf25a3e",blockName:"SE Class",children:[]},{id:"60872a03d980e17e8cf25a3f",blockName:"SE BatchGroup",children:[]}]},{id:"1113",blockName:"DS",children:[{id:"60872a0cd980e17e8cf25a40",blockName:"DS Class",children:[]},{id:"60872a15d980e17e8cf25a41",blockName:"DS BatchGroup",children:[]}]}]}]},{id:"60872a27d980e17e8cf25a43",blockName:"iloe",children:[]}]};t(531);const Ve=Object(pe.a)(e=>({parentButton:{fontSize:16,padding:"25px 40px",marginLeft:5,marginBottom:e.spacing(4),border:"1px solid",lineHeight:1.5,backgroundColor:"#0063cc",borderColor:"#0063cc"},childButton:{fontSize:16,minWidth:"15vw",maxWidth:"50%",padding:"25px 15px",margin:e.spacing(4),marginLeft:e.spacing(16),border:"1px solid",lineHeight:1.5,backgroundColor:"#0063cc",borderColor:"#0063cc"},treeViewContainer:{marginTop:e.spacing(20),marginLeft:e.spacing(3.5),[e.breakpoints.down("xs")]:{marginBottom:e.spacing(10)}}})),Be=({channels:e,groupType:a,setTreeViewVisible:t})=>{const[o,s]=n.a.useContext(m),[l]=n.a.useContext(w.a),[i,c]=Object(r.useState)(We),[u,d]=(n.a.useCallback(()=>s({type:"change-channel",payload:{channels:e,user:l}}),[s,l,e]),Object(r.useState)([])),p=Ve();return n.a.createElement("div",{className:p.treeViewContainer},n.a.createElement(je.a,{variant:"contained",className:p.parentButton,onClick:()=>{0!==u.length&&c(u.pop())}},i.blockName),i.children.map(a=>n.a.createElement("div",null,n.a.createElement("div",{className:"children"},n.a.createElement(je.a,{variant:"contained",className:p.childButton,onClick:()=>((a,r)=>{if(0!==r.children.length)u.push(a),d(u),c(r);else{const a=e.find(e=>e._id===r.id);t(!1),s({type:"change-channel",payload:{channel:a,user:l}})}})(i,a)},a.blockName)))))};Be.propTypes={channels:C.a.shape({_id:C.a.string,name:C.a.string,groupType:C.a.number}).isRequired};var ze=n.a.memo(Be),_e=t(596),$e=t(532),qe=t.n($e);const Xe=Object(pe.a)(e=>({root:{position:"fixed",[e.breakpoints.down("xs")]:{bottom:e.spacing(10),right:e.spacing(2)},[e.breakpoints.up("sm")]:{bottom:e.spacing(10),left:e.spacing(1)}}}));var Ke=({treeViewVisible:e,setTreeViewVisible:a})=>{const t=Xe();return n.a.createElement("div",{className:t.root},n.a.createElement(_e.a,{color:"primary","aria-label":"add",onClick:()=>{a(!e)}},n.a.createElement(qe.a,null)))};a.default=function(){const[{state:e,performEffect:a},t]=n.a.useReducer(p,void 0,d),s=Object(o.f)(),[l]=n.a.useContext(w.a);Object(D.a)(()=>{const{socket:a}=e;return a.on("chat message",e=>t({type:"recieve-message",payload:{chatMessage:e}})),a.on("start typing",e=>t({type:"add-user-typing",payload:{username:e}})),a.on("stop typing",e=>t({type:"remove-user-typing",payload:{username:e}})),a.close.bind(a)}),Object(D.a)(()=>{l||s.replace("/login")},[s,l]),n.a.useEffect(()=>{a&&a(t)},[t,a]);const i=n.a.useMemo(()=>[e,t],[e]),[c,u]=Object(r.useState)(!1),[h,E]=Object(r.useState)(0);return n.a.createElement("div",null,n.a.createElement(Ge,{groupType:h,setGroupType:E}),n.a.createElement(m.Provider,{value:i},n.a.createElement("div",{className:"flex"},n.a.createElement(de,{channels:e.channels,groupType:h}),n.a.createElement("div",{className:"h-screen-85 mt-20 mr-4 flex flex-grow"},c?n.a.createElement(ze,{setTreeViewVisible:u,channels:e.channels,groupType:h}):n.a.createElement(ee,null))),n.a.createElement(Ke,{treeViewVisible:c,setTreeViewVisible:u})))}},69:function(e,a,t){"use strict";var r=t(0),n=t.n(r);a.a=function(e){return n.a.useEffect(e,[]),null}},75:function(e,a,t){"use strict";var r=t(42),n=t.n(r),o=t(0),s=t.n(o),l=t(6),i=t.n(l);function c({className:e,children:a,type:t,overrideColors:r,variant:o,...l}){let i;return i="big"===o?"px-12 py-4 font-bold shadow-md hover:shadow-lg":"px-4 py-2 shadow hover:shadow-md",s.a.createElement("button",n()({className:`\n        ${r?"":"bg-blue-700 hover:bg-gray-800 text-gray-100"}\n        rounded focus:shadow-outline cursor-pointer ${i} ${e}\n      `,type:t},l),a)}c.propTypes={className:i.a.string,children:i.a.node,type:i.a.string,variant:i.a.oneOf(["big",void 0]),overrideColors:i.a.bool},c.defaultProps={className:"",children:null,type:"button",variant:void 0,overrideColors:!1},a.a=c},80:function(e,a,t){const{validationResult:r}=t(149),n=t(51),o=t(161),s=t(101),{theme:l}=o(s);const i=n.curry((e,a)=>n.compose(n.all(n.identity),n.values,n.pickAll(e))(a));const c=n.curry((e,a)=>{const t=a.response.data.errors;if(!t)throw a;n.forEachObjIndexed((a,t)=>{e.setError(t,"paramError",a&&a.msg)},t)});e.exports={theme:l,inspect:function(e){return console.log(e),e},hasProps:i,handleValidation:function(e,a,t){const n=r(e);n.isEmpty()?t():a.status(400).json({errors:n.mapped()})},handleRequestValidationError:c}}}]);
//# sourceMappingURL=chat.bundle.js.map